{"ast":null,"code":"import { connect } from \"react-redux\";\nimport Button from \"../../componants/buttons\";\nimport { setGamerName, begin, end, heal, attack, changeDiplayAnimation } from '../../action';\nimport { moving, round } from '../../utils';\nimport store from '../../store';\n\nconst mapStateToProps = state => ({\n  displayAnimation: state.displayAnimation\n});\n\nconst mapStateToDispatch = dispatch => ({\n  buttonAction: value => {\n    let playerPicture = document.getElementById('player');\n    let monsterPicture = document.getElementById('monster');\n\n    if (value == 'begin') {\n      const gamer = prompt(\"choisisez un pseudo \");\n\n      if (gamer) {\n        let reg = /[a-zA-Z0-9]/g;\n\n        if (gamer.trim()) {\n          if (reg.test(gamer)) {\n            alert('le pseudo ne peut pas contenir de caractere speciaux');\n          } else if (!reg.test(gamer)) {\n            dispatch(setGamerName(gamer));\n            dispatch(begin());\n          }\n        }\n      }\n    } else if (value == 'giveUp') {\n      dispatch(end());\n    } else if (value == 'heal') {\n      dispatch(heal());\n      dispatch(changeDiplayAnimation());\n      moving(monsterPicture, 1000 * 0.75, 'monsterAttack', playerPicture);\n      setTimeout(() => {\n        dispatch(changeDiplayAnimation());\n        dispatch(attack(round(3, 10), 'playerPv'));\n      }, 1000 * 0.75);\n    } else if (value == 'attack' || value == 'specialAttack') {\n      let dommage = value == 'attack' ? round(3, 10) : round(10, 15);\n      dispatch(changeDiplayAnimation());\n      moving(playerPicture, 1000 * 0.75, 'playerAttack', monsterPicture);\n\n      if (store.getState().monsterPv - dommage >= 0) {\n        setTimeout(() => {\n          moving(monsterPicture, 1000 * 0.75, 'monsterAttack', playerPicture);\n          dispatch(attack(dommage, 'monsterPv'));\n        }, 1000 * 0.75);\n        setTimeout(() => {\n          dispatch(changeDiplayAnimation());\n          dispatch(attack(round(3, 10), 'playerPv'));\n        }, 1000 * 1.5);\n      } else {\n        setTimeout(() => {\n          console.log('test');\n          dispatch(attack(dommage, 'monsterPv'));\n        }, 1000 * 0.75);\n      }\n    }\n  }\n});\n\nexport default connect(mapStateToProps, mapStateToDispatch)(Button);","map":{"version":3,"sources":["/home/rom/Desktop/reactBulder/my-app/src/container/button/index.tsx"],"names":["connect","Button","setGamerName","begin","end","heal","attack","changeDiplayAnimation","moving","round","store","mapStateToProps","state","displayAnimation","mapStateToDispatch","dispatch","buttonAction","value","playerPicture","document","getElementById","monsterPicture","gamer","prompt","reg","trim","test","alert","setTimeout","dommage","getState","monsterPv","console","log"],"mappings":"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","sourcesContent":["import { connect } from \"react-redux\";\nimport Button from \"../../componants/buttons\";\nimport {setGamerName,  begin, end,  heal, attack, changeDiplayAnimation } from '../../action';\nimport { moving, round } from '../../utils'\nimport store from '../../store'\n\nconst mapStateToProps=(state:any) => ({\ndisplayAnimation: state.displayAnimation\n})\nconst mapStateToDispatch = (dispatch:any) => ({\nbuttonAction: (value:any) => {\nlet playerPicture:HTMLElement | null = document.getElementById('player')\nlet monsterPicture:HTMLElement | null = document.getElementById('monster')\n  if (value == 'begin' ) {  \n      const gamer = prompt(\"choisisez un pseudo \")\n     if (gamer) {\n      let reg = /[a-zA-Z0-9]/g\n      if (gamer.trim()) {\n        if (reg.test(gamer)){\n          alert ('le pseudo ne peut pas contenir de caractere speciaux')\n        }\n        else if  (!reg.test(gamer)) {\n          dispatch(setGamerName(gamer))\n          dispatch(begin())\n         \n        }\n       }\n     }\n  }\n  else if (value == 'giveUp' ) {\n    dispatch(end())\n  }\n  else if (value == 'heal'){\n    dispatch(heal())\n    dispatch(changeDiplayAnimation())\n    moving(monsterPicture!, 1000 * 0.75, 'monsterAttack', playerPicture!)\n    setTimeout(()=> {\n      dispatch(changeDiplayAnimation())\n      dispatch(attack(round(3, 10), 'playerPv'))\n    }, 1000 * 0.75)\n  }\n  else if (value == 'attack' || value == 'specialAttack') {\n    let dommage = value== 'attack' ? round(3,10) : round(10, 15)\n    dispatch(changeDiplayAnimation())\n    moving(playerPicture!, 1000 * 0.75, 'playerAttack', monsterPicture!)\n     if (store.getState().monsterPv - dommage >=0 ) {\n    setTimeout(() => { \n      moving(monsterPicture!, 1000 * 0.75, 'monsterAttack', playerPicture!)\n      dispatch(attack(dommage, 'monsterPv'))\n    }, 1000 * 0.75);\n    setTimeout(() => {\n        dispatch(changeDiplayAnimation())\n        dispatch(attack(round(3, 10), 'playerPv'))\n      }, 1000 * 1.5);\n    }\n    else {\n      setTimeout(() => { \n        console.log('test')\n        dispatch(attack(dommage, 'monsterPv'))\n      }, 1000 * 0.75);\n    }\n  }\n}})\n\nexport default connect(mapStateToProps, mapStateToDispatch) (Button)"]},"metadata":{},"sourceType":"module"}