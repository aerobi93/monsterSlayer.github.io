{"ast":null,"code":"import { SET_GAMER_NAME, BEGIN, END, HEAL, ATTACK, CHANGE_LEVEL, REGAIN_MANA } from '../action';\nimport { monsterArray } from '../utils';\nconst initialState = {\n  level: 0,\n  beeingPlaying: false,\n  displayAnimation: false,\n  monsterName: monsterArray[0],\n  monsterPvMax: 100,\n  monsterPv: 100,\n  monsterManaMax: 100,\n  monsterMana: 100,\n  lvUpMonster: 100,\n  messageMonster: '',\n  gamerName: '',\n  playerPvMax: 100,\n  playerPv: 100,\n  playerManaMax: 100,\n  playerMana: 100,\n  lvUpPlayer: 100,\n  messagePlayer: ''\n};\nconsole.log(monsterArray[0], monsterArray[0].name);\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (action.type) {\n    case SET_GAMER_NAME:\n      return { ...state,\n        gamerName: action.value\n      };\n\n    case BEGIN:\n      return { ...state,\n        beeingPlaying: true,\n        displayAnimation: false,\n        playerPv: state.level > 0 ? state.playerPv : state.playerPvMax,\n        playerMana: state.level > 0 ? state.playerMana : state.playerManaMax,\n        monsterPv: state.monsterPvMax,\n        monsterMana: state.monsterManaMax,\n        messagePlayer: '',\n        messageMonster: ''\n      };\n\n    case REGAIN_MANA:\n      return { ...state,\n        monsterMana: state.monsterMana < state.monsterManaMax ? state.monsterMana + 5 : state.monsterManaMax,\n        playerMana: state.playerMana < state.playerManaMax ? state.playerMana + 5 : state.playerManaMax\n      };\n\n    case HEAL:\n      return { ...state,\n        playerMana: state.playerMana - 10,\n        playerPv: state.playerPv + Math.floor(20 * state.lvUpPlayer / 100) >= state.playerPvMax ? state.playerPvMax : state.playerPv + Math.floor(20 * state.lvUpPlayer / 100),\n        messagePlayer: state.playerPv + Math.floor(20 * state.lvUpPlayer / 100) >= state.playerPvMax ? state.playerPvMax - state.playerPv : Math.floor(20 * state.lvUpPlayer / 100)\n      };\n\n    case ATTACK:\n      {\n        if (action.attacker == 'player') {\n          return { ...state,\n            playerMana: state.playerMana - action.manaConsume,\n            monsterPv: state.monsterPv - action.dommageInflige * state.lvUpMonster / 100 <= 0 ? 0 : state.monsterPv - action.dommageInflige * state.lvUpMonster / 100,\n            messageMonster: state.gamerName + ' vous a infliger ' + action.dommageInflige * state.lvUpMonster / 100 + ' de dommage'\n          };\n        }\n\n        if (action.attacker == 'monster') {\n          return { ...state,\n            monsterMana: state.monsterMana - action.manaConsume,\n            playerPv: state.playerPv - action.dommageInflige * state.lvUpPlayer / 100 <= 0 ? 0 : state.playerPv - action.dommageInflige * state.lvUpPlayer / 100,\n            messagePlayer: state.monsterName + ' vous a infliger ' + action.dommageInflige * state.lvUpPlayer / 100 + ' de dommage'\n          };\n        }\n      }\n\n    case CHANGE_LEVEL:\n      return { ...state,\n        level: state.level + 1,\n        playerPvMax: state.playerPvMax + 20,\n        playerManaMax: state.playerPvMax + 20,\n        monsterPvMax: state.monsterPvMax + 15,\n        monsterManaMax: state.monsterManaMax + 15,\n        monsterName: monsterArray[state.level + 1]\n      };\n\n    case END:\n      return { ...state,\n        level: 0,\n        gamerName: '',\n        monsterName: monsterArray[0],\n        beeingPlaying: false,\n        displayAnimation: false,\n        monsterPvMax: 100,\n        monsterPv: 100,\n        playerPvMax: 100,\n        playerPv: 100,\n        monsterManaMax: 100,\n        monsterMana: 100,\n        playerManaMax: 100,\n        playerMana: 100\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/rom/Desktop/reactBulder/monster_slayer3_react/src/reducers/index.tsx"],"names":["SET_GAMER_NAME","BEGIN","END","HEAL","ATTACK","CHANGE_LEVEL","REGAIN_MANA","monsterArray","initialState","level","beeingPlaying","displayAnimation","monsterName","monsterPvMax","monsterPv","monsterManaMax","monsterMana","lvUpMonster","messageMonster","gamerName","playerPvMax","playerPv","playerManaMax","playerMana","lvUpPlayer","messagePlayer","console","log","name","reducer","state","action","type","value","Math","floor","attacker","manaConsume","dommageInflige"],"mappings":"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","sourcesContent":["import { SET_GAMER_NAME, BEGIN, END, HEAL, ATTACK, CHANGE_LEVEL, REGAIN_MANA } from '../action'\nimport { monsterArray } from '../utils'\n\nconst initialState = {\n  level : 0,\n  beeingPlaying : false,\n  displayAnimation:false,\n  monsterName: monsterArray[0],\n  monsterPvMax: 100,\n  monsterPv: 100,\n  monsterManaMax: 100,\n  monsterMana: 100,\n  lvUpMonster : 100,\n  messageMonster: '',\n  gamerName:'',\n  playerPvMax: 100,\n  playerPv: 100,\n  playerManaMax: 100,\n  playerMana: 100,\n  lvUpPlayer: 100,\n  messagePlayer: '', \n};\n console.log(monsterArray[0], monsterArray[0].name)\nconst reducer = (state:any = initialState, action:any = {})  => {\n  switch(action.type) {\n    case SET_GAMER_NAME:\n      return {\n        ...state,\n        gamerName : action.value\n      }\n    case BEGIN: \n     return {\n       ...state, \n       beeingPlaying: true,\n       displayAnimation:false,\n       playerPv: state.level > 0 ? state.playerPv : state.playerPvMax,\n       playerMana: state.level > 0 ? state.playerMana : state.playerManaMax,\n       monsterPv : state.monsterPvMax,\n       monsterMana: state.monsterManaMax,\n       messagePlayer: '',\n       messageMonster:'',\n\n     }\n     case REGAIN_MANA: \n      return {\n        ...state,\n        monsterMana :state.monsterMana < state.monsterManaMax ? state.monsterMana + 5 : state.monsterManaMax,\n        playerMana: state.playerMana < state.playerManaMax ?  state.playerMana + 5 : state.playerManaMax\n      } \n     case HEAL: \n      return {\n        ...state,\n          playerMana : state.playerMana - 10,\n          playerPv: state.playerPv + Math.floor(20 * ( state.lvUpPlayer) /100) >= state.playerPvMax ?\n          state.playerPvMax: \n          state.playerPv + Math.floor(20 * ( state.lvUpPlayer) /100),\n          messagePlayer: state.playerPv + Math.floor(20 * ( state.lvUpPlayer) /100) >= state.playerPvMax ? \n          state.playerPvMax  - state.playerPv : \n          Math.floor(20 * ( state.lvUpPlayer) /100)\n      }\n      case ATTACK: {\n        if( action.attacker == 'player') {\n          return {\n            ...state,\n            playerMana : state.playerMana -action.manaConsume,\n            monsterPv: state.monsterPv - (action.dommageInflige * (state.lvUpMonster ) / 100) <= 0 ?\n              0 :\n              state.monsterPv - (action.dommageInflige * (state.lvUpMonster ) / 100),\n            messageMonster: state.gamerName + ' vous a infliger ' + (action.dommageInflige * (state.lvUpMonster ) / 100) + ' de dommage'\n          }\n        }\n        if( action.attacker == 'monster') {\n          return {\n            ...state,\n            monsterMana : state.monsterMana -action.manaConsume,\n            playerPv: state.playerPv - (action.dommageInflige * (state.lvUpPlayer) / 100) <= 0 ?\n              0 :\n              state.playerPv - (action.dommageInflige * (state.lvUpPlayer) / 100),\n            messagePlayer: state.monsterName + ' vous a infliger ' + (action.dommageInflige * (state.lvUpPlayer) / 100) + ' de dommage'\n          }\n        }\n      }\n      case CHANGE_LEVEL: \n        return {\n          ...state,\n          level: state.level + 1,\n          playerPvMax : state.playerPvMax + 20,\n          playerManaMax : state.playerPvMax + 20,\n          monsterPvMax : state.monsterPvMax + 15,\n          monsterManaMax : state.monsterManaMax +15,\n          monsterName: monsterArray[state.level + 1]\n        }\n      case END :\n        return {\n          ...state,\n          level : 0,\n          gamerName:'',\n          monsterName: monsterArray[0],\n          beeingPlaying : false,\n          displayAnimation:false,\n          monsterPvMax: 100,\n          monsterPv: 100, \n          playerPvMax: 100,\n          playerPv: 100,\n          monsterManaMax: 100,\n          monsterMana: 100, \n          playerManaMax: 100,\n          playerMana: 100, \n       }\n    default: return state\n  }\n}\nexport default reducer"]},"metadata":{},"sourceType":"module"}