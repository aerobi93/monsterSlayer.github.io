{"ast":null,"code":"import { BEGIN, LEVEL_UP, END, HEAL, ATTACK, CHANGE_DISPLAY_ANIMATION } from '../action';\nconst initialState = {\n  level: 0,\n  monsterPv: 100,\n  monsterPvMax: 100,\n  playerPv: 100,\n  playerPvMax: 100,\n  playerName: 'rom',\n  messageDommageMonster: '',\n  messageDommagePlayer: '',\n  gameBegining: false,\n  displayAnimation: false\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (action.type) {\n    case BEGIN:\n      return { ...state,\n        gameBegining: true,\n        playerPv: state.playerPvMax,\n        monsterPv: state.monsterPVMax,\n        messageDommageMonster: '',\n        messageDommagePlayer: ''\n      };\n\n    case LEVEL_UP:\n      return { ...state,\n        level: state.level + 1,\n        monsterPvMax: Math.floor(state.monsterPvMax + state.monsterPvMax * 15 / 100),\n        playerPvMax: Math.floor(state.playerPvMax + state.playerPvMax * 20 / 100)\n      };\n\n    case END:\n      return { ...state,\n        gameBegining: false,\n        playerPv: 100,\n        playerPvMax: 100,\n        monsterPv: 100,\n        monsterPvMax: 100,\n        messageDommageMonster: '',\n        messageDommagePlayer: '',\n        level: 0\n      };\n\n    case HEAL:\n      return { ...state,\n        messageDommagePlayer: 'vous avez recupere ' + (state.playerPv + 10 >= 100 ? 100 - state.playerPv : 10) + ' pv',\n        playerPv: state.playerPv + 10 >= 100 ? 100 : state.playerPv + 10\n      };\n\n    case ATTACK:\n      {\n        return { ...state,\n          [action.player]: +[state[action.player]] - action.value < 0 ? 0 : +[state[action.player]] - action.value,\n          [action.message]: 'vous avez recu ' + action.value + ' de dommage'\n        };\n      }\n\n    case CHANGE_DISPLAY_ANIMATION:\n      return { ...state,\n        displayAnimation: !state.displayAnimation\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/rom/Desktop/reactBulder/my-app/src/reducers/index.tsx"],"names":["BEGIN","LEVEL_UP","END","HEAL","ATTACK","CHANGE_DISPLAY_ANIMATION","initialState","level","monsterPv","monsterPvMax","playerPv","playerPvMax","playerName","messageDommageMonster","messageDommagePlayer","gameBegining","displayAnimation","reducer","state","action","type","monsterPVMax","Math","floor","player","value","message"],"mappings":"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","sourcesContent":["import {  BEGIN, LEVEL_UP, END,  HEAL, ATTACK, CHANGE_DISPLAY_ANIMATION} from '../action'\n\nconst initialState = {\nlevel : 0,\nmonsterPv : 100,\nmonsterPvMax : 100,\nplayerPv : 100,\nplayerPvMax : 100,\nplayerName: 'rom',\nmessageDommageMonster: '',\nmessageDommagePlayer: '',\ngameBegining:false,\ndisplayAnimation :false,\n};\n\nconst reducer = (state:any = initialState, action:any = {})  => {\n  switch(action.type) {\n    case BEGIN:\n      return {\n        ...state,\n        gameBegining: true,\n        playerPv :   state.playerPvMax ,\n        monsterPv : state.monsterPVMax,\n        messageDommageMonster: '',\n        messageDommagePlayer: '',\n      }\n    case LEVEL_UP :\n      return {\n        ...state,\n        level: state.level + 1,\n        monsterPvMax : Math.floor(state.monsterPvMax + ((state.monsterPvMax *15)/100)),\n        playerPvMax : Math.floor(state.playerPvMax + ((state.playerPvMax * 20)/100))\n      }\n    case END:\n      return {\n        ...state,\n        gameBegining: false,\n        playerPv : 100, \n        playerPvMax : 100,\n        monsterPv :100 ,\n        monsterPvMax : 100,\n        messageDommageMonster: '',\n        messageDommagePlayer: '',\n        level: 0,\n      }\n    case HEAL:\n      return {\n        ...state,\n        messageDommagePlayer: 'vous avez recupere ' + (state.playerPv + 10 >= 100 ? 100 - state.playerPv  : 10)  + ' pv',\n        playerPv : state.playerPv + 10 >= 100 ? 100 : state.playerPv + 10 ,\n      }\n    case ATTACK: {\n      return {\n        ...state,\n        [action.player]: +[state[action.player]] - action.value < 0 ? 0 : +[state[action.player]] - action.value,\n        [action.message]: 'vous avez recu ' + action.value  + ' de dommage'\n      }\n    }\n    case CHANGE_DISPLAY_ANIMATION: \n      return {\n        ...state, \n        displayAnimation: !state.displayAnimation\n      }\n      default: return state\n  }\n}\nexport default reducer"]},"metadata":{},"sourceType":"module"}