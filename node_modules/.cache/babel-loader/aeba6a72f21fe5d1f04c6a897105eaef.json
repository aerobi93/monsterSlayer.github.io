{"ast":null,"code":"import { SET_GAMER_NAME, BEGIN, END, HEAL, ATTACK, CHANGE_LEVEL, REGAIN_MANA, CHANGE_DISPLAY_ANIMATION } from '../action';\nimport { monsterArray } from '../utils';\nconst initialState = {\n  level: 0,\n  beeingPlaying: false,\n  displayAnimation: false,\n  actualMonster: monsterArray[0],\n  monsterName: monsterArray[0].name,\n  monsterHeal: '',\n  monsterSpeial: '',\n  monsterPvMax: monsterArray[0].pvMax,\n  monsterPv: '',\n  monsterManaMax: monsterArray[0].manaMax,\n  monsterMana: '',\n  messageMonster: '',\n  gamerName: '',\n  playerPvMax: 100,\n  playerPv: '',\n  playerManaMax: 100,\n  playerMana: '',\n  lvUpPlayer: 100,\n  messagePlayer: ''\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (action.type) {\n    case SET_GAMER_NAME:\n      return { ...state,\n        gamerName: action.value\n      };\n\n    case BEGIN:\n      return { ...state,\n        beeingPlaying: true,\n        displayAnimation: false,\n        playerPv: state.playerPvMax,\n        playerMana: state.playerManaMax,\n        monsterPv: state.monsterPvMax,\n        monsterMana: state.monsterManaMax,\n        monsterHeal: state.actualMonster.heal,\n        monsterSpecial: state.actualMonster.special\n      };\n\n    case CHANGE_DISPLAY_ANIMATION:\n      return { ...state,\n        displayAnimation: !state.displayAnimation\n      };\n\n    case REGAIN_MANA:\n      return { ...state,\n        monsterMana: state.monsterMana + 5 < state.monsterManaMax ? state.monsterMana + 5 : state.monsterManaMax,\n        playerMana: state.playerMana + 5 < state.playerManaMax ? state.playerMana + 5 : state.playerManaMax\n      };\n\n    case HEAL:\n      {\n        if (action.value == 'player') {\n          return { ...state,\n            playerMana: state.playerMana - 10,\n            playerPv: state.playerPv + Math.floor(15 * state.lvUpPlayer / 100) >= state.playerPvMax ? state.playerPvMax : state.playerPv + Math.floor(15 * state.lvUpPlayer / 100),\n            messagePlayer: state.playerPv + Math.floor(15 * state.lvUpPlayer / 100) >= state.playerPvMax ? 'vous avez recuperez' + (state.playerPvMax - state.playerPv) + 'pv' : 'vous avez recuperez' + Math.floor(15 * state.lvUpPlayer / 100) + 'pv'\n          };\n        }\n      }\n\n    case ATTACK:\n      {\n        if (action.attacker == 'player') {\n          return { ...state,\n            playerMana: action.manaConsume ? state.playerMana - action.manaConsume : state.playerMana,\n            monsterPv: state.monsterPv - action.dommageInflige * state.lvUpPlayer / 100 <= 0 ? 0 : state.monsterPv - action.dommageInflige * state.lvUpPlayer / 100,\n            messageMonster: state.gamerName + ' vous a infliger ' + action.dommageInflige * state.lvUpPlayer / 100 + ' de dommage'\n          };\n        }\n\n        if (action.attacker == 'monster') {\n          return { ...state,\n            monsterMana: action.manaConsume ? state.monsterMana - action.manaConsume : state.monsterMana,\n            playerPv: state.playerPv - state.actualMonster.dommage <= 0 ? 0 : state.playerPv - state.actualMonster.dommage,\n            messagePlayer: state.monsterName + ' vous a infliger ' + state.actualMonster.dommage + ' de dommage'\n          };\n        }\n      }\n\n    case CHANGE_LEVEL:\n      return { ...state,\n        level: state.level + 1,\n        lvUpPlayer: state.lvUpPlayer + 20,\n        playerPvMax: state.playerPvMax + 20,\n        playerManaMax: state.playerPvMax + 20,\n        monsterPv: monsterArray[state.level + 1].pvMax,\n        monsterPvMax: monsterArray[state.level + 1].pvMax,\n        monsterMana: monsterArray[state.level + 1].manaMax,\n        monsterManaMax: monsterArray[state.level + 1].manaMax,\n        monsterName: monsterArray[state.level + 1].name,\n        monsterHeal: monsterArray[state.level + 1].heal,\n        monsterSpecial: monsterArray[state.level + 1].special,\n        messagePlayer: '',\n        messageMonster: '',\n        displayAnimation: false\n      };\n\n    case END:\n      return { ...state,\n        level: 0,\n        gamerName: '',\n        monsterName: monsterArray[0],\n        beeingPlaying: false,\n        displayAnimation: false,\n        monsterPvMax: 100,\n        monsterPv: 100,\n        playerPvMax: 100,\n        playerPv: 100,\n        monsterManaMax: 100,\n        monsterMana: 100,\n        playerManaMax: 100,\n        playerMana: 100\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/rom/Desktop/reactBulder/monster_slayer3_react/src/reducers/index.tsx"],"names":["SET_GAMER_NAME","BEGIN","END","HEAL","ATTACK","CHANGE_LEVEL","REGAIN_MANA","CHANGE_DISPLAY_ANIMATION","monsterArray","initialState","level","beeingPlaying","displayAnimation","actualMonster","monsterName","name","monsterHeal","monsterSpeial","monsterPvMax","pvMax","monsterPv","monsterManaMax","manaMax","monsterMana","messageMonster","gamerName","playerPvMax","playerPv","playerManaMax","playerMana","lvUpPlayer","messagePlayer","reducer","state","action","type","value","heal","monsterSpecial","special","Math","floor","attacker","manaConsume","dommageInflige","dommage"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,KAAzB,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2CC,MAA3C,EAAmDC,YAAnD,EAAiEC,WAAjE,EAA8EC,wBAA9E,QAA8G,WAA9G;AACA,SAASC,YAAT,QAA6B,UAA7B;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAG,CADW;AAEnBC,EAAAA,aAAa,EAAG,KAFG;AAGnBC,EAAAA,gBAAgB,EAAC,KAHE;AAInBC,EAAAA,aAAa,EAAGL,YAAY,CAAC,CAAD,CAJT;AAKnBM,EAAAA,WAAW,EAAGN,YAAY,CAAC,CAAD,CAAZ,CAAgBO,IALX;AAMnBC,EAAAA,WAAW,EAAE,EANM;AAOnBC,EAAAA,aAAa,EAAE,EAPI;AAQnBC,EAAAA,YAAY,EAAEV,YAAY,CAAC,CAAD,CAAZ,CAAgBW,KARX;AASnBC,EAAAA,SAAS,EAAE,EATQ;AAUnBC,EAAAA,cAAc,EAAGb,YAAY,CAAC,CAAD,CAAZ,CAAgBc,OAVd;AAWnBC,EAAAA,WAAW,EAAC,EAXO;AAYnBC,EAAAA,cAAc,EAAE,EAZG;AAanBC,EAAAA,SAAS,EAAC,EAbS;AAcnBC,EAAAA,WAAW,EAAE,GAdM;AAenBC,EAAAA,QAAQ,EAAE,EAfS;AAgBnBC,EAAAA,aAAa,EAAE,GAhBI;AAiBnBC,EAAAA,UAAU,EAAE,EAjBO;AAkBnBC,EAAAA,UAAU,EAAE,GAlBO;AAmBnBC,EAAAA,aAAa,EAAE;AAnBI,CAArB;;AAqBA,MAAMC,OAAO,GAAG,YAAgD;AAAA,MAA/CC,KAA+C,uEAAnCxB,YAAmC;AAAA,MAArByB,MAAqB,uEAAR,EAAQ;;AAC9D,UAAOA,MAAM,CAACC,IAAd;AACE,SAAKnC,cAAL;AACE,aAAO,EACL,GAAGiC,KADE;AAELR,QAAAA,SAAS,EAAGS,MAAM,CAACE;AAFd,OAAP;;AAIF,SAAKnC,KAAL;AACC,aAAO,EACL,GAAGgC,KADE;AAELtB,QAAAA,aAAa,EAAE,IAFV;AAGLC,QAAAA,gBAAgB,EAAC,KAHZ;AAILe,QAAAA,QAAQ,EAAEM,KAAK,CAACP,WAJX;AAKLG,QAAAA,UAAU,EAAEI,KAAK,CAACL,aALb;AAMLR,QAAAA,SAAS,EAAGa,KAAK,CAACf,YANb;AAOLK,QAAAA,WAAW,EAAEU,KAAK,CAACZ,cAPd;AAQLL,QAAAA,WAAW,EAAGiB,KAAK,CAACpB,aAAN,CAAoBwB,IAR7B;AASLC,QAAAA,cAAc,EAAEL,KAAK,CAACpB,aAAN,CAAoB0B;AAT/B,OAAP;;AAWA,SAAKhC,wBAAL;AACC,aAAO,EACL,GAAG0B,KADE;AAELrB,QAAAA,gBAAgB,EAAG,CAACqB,KAAK,CAACrB;AAFrB,OAAP;;AAID,SAAKN,WAAL;AACC,aAAO,EACL,GAAG2B,KADE;AAELV,QAAAA,WAAW,EAAEU,KAAK,CAACV,WAAN,GAAmB,CAAnB,GAAuBU,KAAK,CAACZ,cAA7B,GAA8CY,KAAK,CAACV,WAAN,GAAoB,CAAlE,GAAsEU,KAAK,CAACZ,cAFpF;AAGLQ,QAAAA,UAAU,EAAEI,KAAK,CAACJ,UAAN,GAAmB,CAAnB,GAAuBI,KAAK,CAACL,aAA7B,GAA8CK,KAAK,CAACJ,UAAN,GAAmB,CAAjE,GAAqEI,KAAK,CAACL;AAHlF,OAAP;;AAKD,SAAKzB,IAAL;AAAW;AACT,YAAI+B,MAAM,CAACE,KAAP,IAAgB,QAApB,EAA8B;AAC9B,iBAAO,EACN,GAAGH,KADG;AAEJJ,YAAAA,UAAU,EAAGI,KAAK,CAACJ,UAAN,GAAmB,EAF5B;AAGJF,YAAAA,QAAQ,EAAEM,KAAK,CAACN,QAAN,GAAiBa,IAAI,CAACC,KAAL,CAAW,KAAOR,KAAK,CAACH,UAAb,GAA0B,GAArC,CAAjB,IAA8DG,KAAK,CAACP,WAApE,GACVO,KAAK,CAACP,WADI,GAEVO,KAAK,CAACN,QAAN,GAAiBa,IAAI,CAACC,KAAL,CAAW,KAAOR,KAAK,CAACH,UAAb,GAA0B,GAArC,CALb;AAMJC,YAAAA,aAAa,EAAEE,KAAK,CAACN,QAAN,GAAiBa,IAAI,CAACC,KAAL,CAAW,KAAOR,KAAK,CAACH,UAAb,GAA0B,GAArC,CAAjB,IAA8DG,KAAK,CAACP,WAApE,GACf,yBAAyBO,KAAK,CAACP,WAAN,GAAqBO,KAAK,CAACN,QAApD,IAAgE,IADjD,GAEf,wBAAwBa,IAAI,CAACC,KAAL,CAAW,KAAOR,KAAK,CAACH,UAAb,GAA0B,GAArC,CAAxB,GAAoE;AARhE,WAAP;AAUD;AAED;;AAEC,SAAK1B,MAAL;AAAa;AACX,YAAI8B,MAAM,CAACQ,QAAP,IAAmB,QAAvB,EAAiC;AAC/B,iBAAO,EACL,GAAGT,KADE;AAELJ,YAAAA,UAAU,EAAGK,MAAM,CAACS,WAAP,GAAqBV,KAAK,CAACJ,UAAN,GAAmBK,MAAM,CAACS,WAA/C,GAA6DV,KAAK,CAACJ,UAF3E;AAGLT,YAAAA,SAAS,EAAEa,KAAK,CAACb,SAAN,GAAmBc,MAAM,CAACU,cAAP,GAAyBX,KAAK,CAACH,UAA/B,GAA8C,GAAjE,IAAyE,CAAzE,GACT,CADS,GAETG,KAAK,CAACb,SAAN,GAAmBc,MAAM,CAACU,cAAP,GAAyBX,KAAK,CAACH,UAA/B,GAA8C,GAL9D;AAMLN,YAAAA,cAAc,EAAES,KAAK,CAACR,SAAN,GAAkB,mBAAlB,GAAyCS,MAAM,CAACU,cAAP,GAAyBX,KAAK,CAACH,UAA/B,GAA8C,GAAvF,GAA8F;AANzG,WAAP;AAQD;;AACD,YAAII,MAAM,CAACQ,QAAP,IAAmB,SAAvB,EAAkC;AAChC,iBAAO,EACL,GAAGT,KADE;AAELV,YAAAA,WAAW,EAAGW,MAAM,CAACS,WAAP,GAAqBV,KAAK,CAACV,WAAN,GAAoBW,MAAM,CAACS,WAAhD,GAA8DV,KAAK,CAACV,WAF7E;AAGLI,YAAAA,QAAQ,EAAEM,KAAK,CAACN,QAAN,GAAiBM,KAAK,CAACpB,aAAN,CAAoBgC,OAArC,IAAgD,CAAhD,GACR,CADQ,GAERZ,KAAK,CAACN,QAAN,GAAiBM,KAAK,CAACpB,aAAN,CAAoBgC,OALlC;AAMLd,YAAAA,aAAa,EAAEE,KAAK,CAACnB,WAAN,GAAoB,mBAApB,GAA0CmB,KAAK,CAACpB,aAAN,CAAoBgC,OAA9D,GAAwE;AANlF,WAAP;AAQD;AACF;;AACD,SAAKxC,YAAL;AACE,aAAO,EACL,GAAG4B,KADE;AAELvB,QAAAA,KAAK,EAAEuB,KAAK,CAACvB,KAAN,GAAc,CAFhB;AAGLoB,QAAAA,UAAU,EAAEG,KAAK,CAACH,UAAN,GAAmB,EAH1B;AAILJ,QAAAA,WAAW,EAAGO,KAAK,CAACP,WAAN,GAAoB,EAJ7B;AAKLE,QAAAA,aAAa,EAAGK,KAAK,CAACP,WAAN,GAAoB,EAL/B;AAMLN,QAAAA,SAAS,EAAEZ,YAAY,CAACyB,KAAK,CAACvB,KAAN,GAAc,CAAf,CAAZ,CAA8BS,KANpC;AAOLD,QAAAA,YAAY,EAAEV,YAAY,CAACyB,KAAK,CAACvB,KAAN,GAAc,CAAf,CAAZ,CAA8BS,KAPvC;AAQLI,QAAAA,WAAW,EAAGf,YAAY,CAACyB,KAAK,CAACvB,KAAN,GAAc,CAAf,CAAZ,CAA8BY,OARvC;AASLD,QAAAA,cAAc,EAAGb,YAAY,CAACyB,KAAK,CAACvB,KAAN,GAAc,CAAf,CAAZ,CAA8BY,OAT1C;AAULR,QAAAA,WAAW,EAAEN,YAAY,CAACyB,KAAK,CAACvB,KAAN,GAAc,CAAf,CAAZ,CAA8BK,IAVtC;AAWLC,QAAAA,WAAW,EAAGR,YAAY,CAACyB,KAAK,CAACvB,KAAN,GAAc,CAAf,CAAZ,CAA8B2B,IAXvC;AAYLC,QAAAA,cAAc,EAAE9B,YAAY,CAACyB,KAAK,CAACvB,KAAN,GAAc,CAAf,CAAZ,CAA8B6B,OAZzC;AAaLR,QAAAA,aAAa,EAAE,EAbV;AAcLP,QAAAA,cAAc,EAAG,EAdZ;AAeLZ,QAAAA,gBAAgB,EAAG;AAfd,OAAP;;AAiBF,SAAKV,GAAL;AACE,aAAO,EACL,GAAG+B,KADE;AAELvB,QAAAA,KAAK,EAAG,CAFH;AAGLe,QAAAA,SAAS,EAAC,EAHL;AAILX,QAAAA,WAAW,EAAEN,YAAY,CAAC,CAAD,CAJpB;AAKLG,QAAAA,aAAa,EAAG,KALX;AAMLC,QAAAA,gBAAgB,EAAC,KANZ;AAOLM,QAAAA,YAAY,EAAE,GAPT;AAQLE,QAAAA,SAAS,EAAE,GARN;AASLM,QAAAA,WAAW,EAAE,GATR;AAULC,QAAAA,QAAQ,EAAE,GAVL;AAWLN,QAAAA,cAAc,EAAE,GAXX;AAYLE,QAAAA,WAAW,EAAE,GAZR;AAaLK,QAAAA,aAAa,EAAE,GAbV;AAcLC,QAAAA,UAAU,EAAE;AAdP,OAAP;;AAgBJ;AAAS,aAAOI,KAAP;AAtGX;AAwGD,CAzGD;;AA0GA,eAAeD,OAAf","sourcesContent":["import { SET_GAMER_NAME, BEGIN, END, HEAL, ATTACK, CHANGE_LEVEL, REGAIN_MANA, CHANGE_DISPLAY_ANIMATION } from '../action'\nimport { monsterArray } from '../utils'\n\nconst initialState = {\n  level : 0,\n  beeingPlaying : false,\n  displayAnimation:false,\n  actualMonster : monsterArray[0],\n  monsterName:  monsterArray[0].name,\n  monsterHeal :'',\n  monsterSpeial: '',\n  monsterPvMax: monsterArray[0].pvMax,\n  monsterPv: '',\n  monsterManaMax:  monsterArray[0].manaMax,\n  monsterMana:'',\n  messageMonster: '',\n  gamerName:'',\n  playerPvMax: 100,\n  playerPv: '',\n  playerManaMax: 100,\n  playerMana: '',\n  lvUpPlayer: 100,\n  messagePlayer: '', \n};\nconst reducer = (state:any = initialState, action:any = {})  => {\n  switch(action.type) {\n    case SET_GAMER_NAME:\n      return {\n        ...state,\n        gamerName : action.value\n      }\n    case BEGIN: \n     return {\n       ...state, \n       beeingPlaying: true,\n       displayAnimation:false,\n       playerPv: state.playerPvMax,\n       playerMana: state.playerManaMax,\n       monsterPv : state.monsterPvMax,\n       monsterMana: state.monsterManaMax,\n       monsterHeal : state.actualMonster.heal,\n       monsterSpecial: state.actualMonster.special\n     }\n     case CHANGE_DISPLAY_ANIMATION: \n      return {\n        ...state,\n        displayAnimation : !state.displayAnimation\n      }\n     case REGAIN_MANA: \n      return {\n        ...state,\n        monsterMana :state.monsterMana +5 < state.monsterManaMax ? state.monsterMana + 5 : state.monsterManaMax,\n        playerMana: state.playerMana + 5 < state.playerManaMax ?  state.playerMana + 5 : state.playerManaMax\n      } \n     case HEAL: {\n       if (action.value == 'player') {\n       return {\n        ...state,\n          playerMana : state.playerMana - 10,\n          playerPv: state.playerPv + Math.floor(15 * ( state.lvUpPlayer) /100) >= state.playerPvMax ?\n          state.playerPvMax: \n          state.playerPv + Math.floor(15 * ( state.lvUpPlayer) /100),\n          messagePlayer: state.playerPv + Math.floor(15 * ( state.lvUpPlayer) /100) >= state.playerPvMax ? \n          'vous avez recuperez' + (state.playerPvMax  - state.playerPv) + 'pv' : \n          'vous avez recuperez' + Math.floor(15 * ( state.lvUpPlayer) /100) + 'pv'\n        }\n     }\n   \n    }\n      \n      case ATTACK: {\n        if( action.attacker == 'player') {\n          return {\n            ...state,\n            playerMana : action.manaConsume ? state.playerMana - action.manaConsume : state.playerMana ,\n            monsterPv: state.monsterPv - (action.dommageInflige * (state.lvUpPlayer ) / 100) <= 0 ?\n              0 :\n              state.monsterPv - (action.dommageInflige * (state.lvUpPlayer ) / 100),\n            messageMonster: state.gamerName + ' vous a infliger ' + (action.dommageInflige * (state.lvUpPlayer ) / 100) + ' de dommage'\n          }\n        }\n        if( action.attacker == 'monster') {\n          return {\n            ...state,\n            monsterMana : action.manaConsume ? state.monsterMana - action.manaConsume : state.monsterMana,\n            playerPv: state.playerPv - state.actualMonster.dommage <= 0 ?\n              0 :\n              state.playerPv - state.actualMonster.dommage,\n            messagePlayer: state.monsterName + ' vous a infliger ' + state.actualMonster.dommage + ' de dommage'\n          }\n        }\n      }\n      case CHANGE_LEVEL: \n        return {\n          ...state,\n          level: state.level + 1,\n          lvUpPlayer: state.lvUpPlayer + 20,\n          playerPvMax : state.playerPvMax + 20,\n          playerManaMax : state.playerPvMax + 20,\n          monsterPv: monsterArray[state.level + 1].pvMax,\n          monsterPvMax: monsterArray[state.level + 1].pvMax,\n          monsterMana : monsterArray[state.level + 1].manaMax,\n          monsterManaMax : monsterArray[state.level + 1].manaMax,\n          monsterName: monsterArray[state.level + 1].name,\n          monsterHeal : monsterArray[state.level + 1].heal,\n          monsterSpecial: monsterArray[state.level + 1].special,\n          messagePlayer: '',\n          messageMonster : '', \n          displayAnimation : false\n        }\n      case END :\n        return {\n          ...state,\n          level : 0,\n          gamerName:'',\n          monsterName: monsterArray[0],\n          beeingPlaying : false,\n          displayAnimation:false,\n          monsterPvMax: 100,\n          monsterPv: 100, \n          playerPvMax: 100,\n          playerPv: 100,\n          monsterManaMax: 100,\n          monsterMana: 100, \n          playerManaMax: 100,\n          playerMana: 100, \n       }\n    default: return state\n  }\n}\nexport default reducer"]},"metadata":{},"sourceType":"module"}