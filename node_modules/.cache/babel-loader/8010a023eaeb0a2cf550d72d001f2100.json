{"ast":null,"code":"import { connect } from \"react-redux\";\nimport store from '../../store';\nimport Button from \"../../components/button\";\nimport { round, moving } from \"../../utils\";\nimport { regainMana, begin, end, setGamerName, attack, heal, fireBall, fireCone, lostMana, reportBattle, changeDisplayAnimation } from '../../action';\n\nconst mapStateToProps = state => ({\n  displayAnimation: state.displayAnimation,\n  monsterPv: state.monsterPv,\n  playerPv: state.playerPv\n});\n\nconst mapDispatchToProps = (dispatch, state) => ({\n  regainMana: () => {\n    setTimeout(() => {\n      dispatch(regainMana());\n    }, 1000 * 2.1);\n  },\n  begin: () => {\n    const result = prompt(\"choisisez un pseudo \");\n\n    if (result) {\n      var _result$match;\n\n      let regex = /[a-zA-Z0-9]/g;\n\n      if (((_result$match = result.match(regex)) === null || _result$match === void 0 ? void 0 : _result$match.length) === result.length) {\n        dispatch(setGamerName(result.trim()));\n        dispatch(begin());\n      } else if (result.match(regex).length < result.length) {\n        alert('le speudo ne peut pas contenir de caractére spéciaux');\n      }\n    } else alert('une erreur est survenue');\n  },\n  attack: () => {\n    let playerDiv = document.getElementById(store.getState().gamerName);\n    dispatch(changeDisplayAnimation());\n    moving(playerDiv, 'draw', 1000, 'player');\n    setTimeout(() => {\n      dispatch(reportBattle('messageMonster'));\n      dispatch(attack('player'));\n    }, 1000);\n  },\n  fireBall: () => {\n    let fireBallPlayer = document.getElementById('fireBall-' + store.getState().gamerName);\n    dispatch(changeDisplayAnimation());\n\n    if (store.getState().playerMana - 20 < 0) {\n      moving(fireBallPlayer, 'fireBall', 400, 'player');\n      setTimeout(() => {\n        alert(\"le sort a echouer\");\n      }, 400);\n    } else {\n      moving(fireBallPlayer, 'fireBall', 1000, 'player');\n      dispatch(lostMana('playerMana', 20));\n      setTimeout(() => {\n        dispatch(reportBattle('messageMonster'));\n        dispatch(fireBall('player'));\n      }, 1000);\n    }\n  },\n  heal: () => {\n    let starPlayer = document.getElementById('star-' + store.getState().gamerName);\n    dispatch(changeDisplayAnimation());\n    moving(starPlayer, 'heal', 1000, 'player');\n    dispatch(lostMana('playerMana', 10));\n    setTimeout(() => {\n      dispatch(heal('player'));\n    }, 1000);\n  },\n  fireCone: () => {\n    let date = Date.now();\n\n    let endtimer = function () {\n      clearInterval(timer);\n      dispatch(reportBattle('messageMonster'));\n    };\n\n    let fireBallPlayer = document.getElementById('fireBall-' + store.getState().gamerName);\n    let button = document.querySelector('.allDivButton-button--fireCone');\n    button === null || button === void 0 ? void 0 : button.addEventListener('mouseup', endtimer);\n    fireBallPlayer.style.visibility = 'visible';\n    fireBallPlayer.style.transform = 'rotate(0deg)';\n    fireBallPlayer.style.left = '12rem';\n    dispatch(changeDisplayAnimation());\n    let timer = setInterval(() => {\n      let interval = Date.now() - date;\n      if (interval < 1000) console.log(fireBallPlayer.style.height, fireBallPlayer.style.width);\n\n      if (parseInt(fireBallPlayer.style.height) < 100 || !fireBallPlayer.style.height) {\n        fireBallPlayer.style.height = interval / 5 + 'px';\n      }\n\n      if (parseInt(fireBallPlayer.style.width) < 170 || !fireBallPlayer.style.width) {\n        fireBallPlayer.style.width = interval / 5 + '%';\n      }\n\n      if (interval > 400) {\n        if (interval % 40 === 0 && store.getState().playerMana > 0) {\n          dispatch(lostMana('playerMana', 1));\n          dispatch(fireCone());\n        } else if (store.getState().playerMana <= 0) {\n          alert('vous n avez plus assez de mana');\n        }\n      }\n    }, 20);\n  },\n  monsterCounter: () => {\n    setTimeout(() => {}, 150);\n    let random = round(1, 3);\n    let monsterDiv = document.getElementById(store.getState().monsterName);\n    dispatch(changeDisplayAnimation());\n\n    if (random == 1) {\n      moving(monsterDiv, 'draw', 1000, 'monster');\n      setTimeout(() => {\n        dispatch(reportBattle('messagePlayer'));\n        dispatch(attack('monster'));\n      }, 1000);\n    } else if (random == 2 && store.getState().monsterMana - 20 > 0) {\n      let fireBallMonster = document.getElementById('fireBall-' + store.getState().monsterName);\n      moving(fireBallMonster, 'fireBall', 1000, 'monster');\n      dispatch(lostMana('monsterMana', 20));\n      setTimeout(() => {\n        dispatch(reportBattle('messagePlayer'));\n        dispatch(fireBall('monster'));\n      }, 1000);\n    } else if (random == 3 && store.getState().monsterMana - 10 > 0) {\n      let starMonster = document.getElementById('star-' + store.getState().monsterName);\n      moving(starMonster, 'heal', 1000, 'monster');\n      dispatch(lostMana('monsterMana', 10));\n      setTimeout(() => {\n        dispatch(heal('monster'));\n      }, 1000);\n    } else {\n      moving(monsterDiv, 'draw', 1000, 'monster');\n      setTimeout(() => {\n        dispatch(reportBattle('messagePlayer'));\n        dispatch(attack('monster'));\n      }, 1000);\n    }\n  },\n  end: () => {\n    let flexButton = document.querySelector('.allDivButton');\n\n    if (flexButton) {\n      flexButton.style.top = '12rem';\n    }\n\n    dispatch(end());\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Button);","map":{"version":3,"sources":["/home/romu/Desktop/work/monster_slayer3 (copy)/src/container/button/index.tsx"],"names":["connect","store","Button","round","moving","regainMana","begin","end","setGamerName","attack","heal","fireBall","fireCone","lostMana","reportBattle","changeDisplayAnimation","mapStateToProps","state","displayAnimation","monsterPv","playerPv","mapDispatchToProps","dispatch","setTimeout","result","prompt","regex","match","length","trim","alert","playerDiv","document","getElementById","getState","gamerName","fireBallPlayer","playerMana","starPlayer","date","Date","now","endtimer","clearInterval","timer","button","querySelector","addEventListener","style","visibility","transform","left","setInterval","interval","console","log","height","width","parseInt","monsterCounter","random","monsterDiv","monsterName","monsterMana","fireBallMonster","starMonster","flexButton","top"],"mappings":"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","sourcesContent":["import { connect } from \"react-redux\";\nimport store from '../../store'\nimport Button from \"../../components/button\";\nimport { round, moving } from \"../../utils\";\nimport { regainMana, begin, end, setGamerName, attack, heal, fireBall, fireCone, ice, lostMana, reportBattle, changeDisplayAnimation} from '../../action'\n\n\nconst mapStateToProps = (state : any) => ({\n  displayAnimation : state.displayAnimation,\n  monsterPv: state.monsterPv,\n  playerPv: state.playerPv,\n})\nconst mapDispatchToProps = (dispatch: any, state: any) => ({ \n  \n  regainMana : () => {\n    setTimeout(()=> {\n      dispatch(regainMana())\n    }, 1000 * 2.1)\n  },\n  \n  begin: () => {\n    const result = prompt(\"choisisez un pseudo \")\n    if (result) {\n      let regex = /[a-zA-Z0-9]/g \n      if (result.match(regex)?.length === result.length){\n        dispatch(setGamerName(result.trim()))\n        dispatch(begin())\n      }\n      else if (result.match(regex)!.length < result.length) {\n        alert('le speudo ne peut pas contenir de caractére spéciaux')\n      }\n    }\n    else alert('une erreur est survenue')\n  },\n  \n  attack: () => {\n    let playerDiv: HTMLElement | null = document.getElementById(store.getState().gamerName)\n    dispatch(changeDisplayAnimation())\n    moving(playerDiv!, 'draw', 1000, 'player')\n    setTimeout(()=> {\n      dispatch(reportBattle('messageMonster'))\n      dispatch(attack('player'))\n    },1000)\n  },\n\n  fireBall: () => {\n    let fireBallPlayer:HTMLElement | null = document.getElementById('fireBall-'+store.getState().gamerName)\n    dispatch(changeDisplayAnimation())\n    if (store.getState().playerMana - 20 < 0) {\n      moving(fireBallPlayer!, 'fireBall', 400, 'player')\n      setTimeout(() => {\n        alert(\"le sort a echouer\")\n      }, 400);\n    }   \n    else {\n      moving(fireBallPlayer!, 'fireBall', 1000, 'player')\n      dispatch(lostMana('playerMana', 20))\n      setTimeout(() => {\n        dispatch(reportBattle('messageMonster'))\n        dispatch(fireBall('player'))\n      }, 1000);  \n    }\n  },\n  heal : () => {\n    let starPlayer: HTMLElement | null = document.getElementById('star-'+store.getState().gamerName)\n    dispatch(changeDisplayAnimation())\n    moving(starPlayer!, 'heal', 1000, 'player')\n    dispatch(lostMana('playerMana', 10))\n    setTimeout(() => {\n        dispatch(heal('player'))\n    }, 1000);  \n  }, \n\n  fireCone : () => {\n    let date = Date.now();\n    let endtimer  = function () {\n      clearInterval(timer)\n      dispatch(reportBattle('messageMonster'))\n    }\n    let fireBallPlayer:HTMLElement | null = document.getElementById('fireBall-'+store.getState().gamerName)\n    let button = document.querySelector('.allDivButton-button--fireCone')\n    button?.addEventListener('mouseup', endtimer) \n    fireBallPlayer!.style.visibility='visible'\n    fireBallPlayer!.style.transform='rotate(0deg)'\n    fireBallPlayer!.style.left='12rem'\n    dispatch(changeDisplayAnimation()) \n\n    let timer = setInterval (() => {\n      let interval = Date.now() - date \n      if (interval < 1000 )\n      console.log(fireBallPlayer!.style.height, fireBallPlayer!.style.width)\n         if (parseInt(fireBallPlayer!.style.height) < 100 || !fireBallPlayer!.style.height) {\n          fireBallPlayer!.style.height = interval / 5 + 'px'\n         }\n         if (parseInt(fireBallPlayer!.style.width) < 170 || !fireBallPlayer!.style.width) {\n          fireBallPlayer!.style.width = interval / 5 + '%'\n         }\n      if (interval > 400) {\n        if (interval % 40 === 0 && store.getState().playerMana > 0) {\n          dispatch(lostMana('playerMana', 1))\n          dispatch(fireCone())\n        }\n        else if (store.getState().playerMana <= 0) {\n          alert('vous n avez plus assez de mana')\n        }\n      }\n    },20)\n  },\n  monsterCounter: () => {\n    setTimeout(() => {\n    }, 150 )\n    let random = round(1, 3)\n    let monsterDiv: HTMLElement | null = document.getElementById(store.getState().monsterName)\n    dispatch(changeDisplayAnimation())\n   \n    if (random == 1) {\n      moving(monsterDiv!, 'draw', 1000, 'monster') \n        setTimeout(()=> {\n        dispatch(reportBattle('messagePlayer'))\n        dispatch(attack('monster'))\n      },1000)\n    }\n    else if (random == 2 && (store.getState().monsterMana - 20) > 0 ) {\n      let fireBallMonster:HTMLElement | null = document.getElementById('fireBall-'+store.getState().monsterName)\n      moving(fireBallMonster!, 'fireBall', 1000, 'monster')  \n      dispatch(lostMana('monsterMana', 20))\n      setTimeout(()=> {\n        dispatch(reportBattle('messagePlayer'))\n        dispatch(fireBall('monster'))\n      }, 1000) \n    }\n    else if (random == 3 && (store.getState().monsterMana - 10) > 0 ) {\n      let starMonster: HTMLElement | null = document.getElementById('star-'+store.getState().monsterName)\n      moving(starMonster!, 'heal', 1000, 'monster')\n      dispatch(lostMana('monsterMana', 10))\n      setTimeout(() => {\n          dispatch(heal('monster'))\n      }, 1000);  \n    }\n    else {\n      moving(monsterDiv!, 'draw', 1000, 'monster')\n      setTimeout(()=> {\n        dispatch(reportBattle('messagePlayer'))\n        dispatch(attack('monster'))\n      },1000)\n    }\n  },\n\n  end: () => {\n    let flexButton: HTMLElement | null = document.querySelector('.allDivButton')\n    if (flexButton) {\n       flexButton.style.top = '12rem'\n    }\n      dispatch(end())\n  }\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(Button)"]},"metadata":{},"sourceType":"module"}