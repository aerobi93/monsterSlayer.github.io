{"ast":null,"code":"import { BEGIN, LEVEL_UP, END, HEAL, ATTACK, CHANGE_DISPLAY_ANIMATION } from '../action';\nconst initialState = {\n  level: 0,\n  monsterPv: 100,\n  monsterPvMax: 100,\n  playerPv: 100,\n  playerPvMax: 100,\n  playerName: 'rom',\n  DommageBYlevelplayer: 100,\n  DommageBYlevelMonster: 100,\n  messageDommageMonster: '',\n  messageDommagePlayer: '',\n  gameBegining: false,\n  displayAnimation: false\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  console.log(action.type);\n\n  switch (action.type) {\n    case BEGIN:\n      return { ...state,\n        gameBegining: true,\n        playerPv: state.playerPvMax,\n        monsterPv: state.monsterPvMax,\n        messageDommageMonster: '',\n        messageDommagePlayer: ''\n      };\n\n    case LEVEL_UP:\n      return { ...state,\n        level: state.level + 1,\n        monsterPvMax: Math.floor(state.monsterPvMax + state.monsterPvMax * 15 / 100),\n        playerPvMax: Math.floor(state.playerPvMax + state.playerPvMax * 20 / 100),\n        DommageBYlevelplayer: Math.floor(state.DommageBYlevelplayer + 10),\n        DommageBYlevelMonster: Math.floor(state.DommageBYlevelMonster + 15)\n      };\n\n    case END:\n      return { ...state,\n        gameBegining: false,\n        playerPv: 100,\n        monsterPv: 100,\n        monsterPvMax: 100,\n        playerPvMax: 100,\n        messageDommageMonster: '',\n        messageDommagePlayer: '',\n        level: 0\n      };\n\n    case HEAL:\n      return { ...state,\n        messageDommagePlayer: 'vous avez recupere ' + Math.floor(state.playerPv + 10 * state.DommageBYlevelplayer / 100 >= state.playerPvMax ? +state.playerPvMax + +state.playerPv : Math.floor(10 * state.DommageBYlevelplayer / 100)) + ' pv',\n        playerPv: state.playerPv + Math.floor(10 * state.DommageBYlevelplayer / 100) >= state.playerPvMax ? state.playerPvMax : state.playerPv + Math.floor(10 * state.DommageBYlevelplayer / 100)\n      };\n\n    case ATTACK:\n      {\n        if (action.player == 'playerPv') {\n          return { ...state,\n            playerPv: +state.playerPv - Math.floor(action.value * state.DommageBYlevelplayer / 100) < 0 ? 0 : +state.playerPv - Math.floor(action.value * state.DommageBYlevelplayer / 100),\n            messageDommagePlayer: 'vous avez recu ' + Math.floor(action.value * state.DommageBYlevelplayer / 100) + ' de dommage'\n          };\n        }\n\n        if (action.player == 'monsterPv') {\n          return { ...state,\n            monsterPv: +state.monsterPv - Math.floor(action.value * state.DommageBYlevelMonster / 100) < 0 ? 0 : +state.monsterPv - Math.floor(action.value * state.DommageBYlevelMonster / 100),\n            messageDommageMonster: 'vous avez recu ' + Math.floor(action.value * state.DommageBYlevelMonster / 100) + ' de dommage'\n          };\n        }\n      }\n\n    case CHANGE_DISPLAY_ANIMATION:\n      return { ...state,\n        displayAnimation: !state.displayAnimation\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/rom/Desktop/reactBulder/my-app/src/reducers/index.tsx"],"names":["BEGIN","LEVEL_UP","END","HEAL","ATTACK","CHANGE_DISPLAY_ANIMATION","initialState","level","monsterPv","monsterPvMax","playerPv","playerPvMax","playerName","DommageBYlevelplayer","DommageBYlevelMonster","messageDommageMonster","messageDommagePlayer","gameBegining","displayAnimation","reducer","state","action","console","log","type","Math","floor","player","value"],"mappings":"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","sourcesContent":["import {  BEGIN, LEVEL_UP, END,  HEAL, ATTACK, CHANGE_DISPLAY_ANIMATION} from '../action'\nimport player from '../container/flexLives/player';\n\nconst initialState = {\nlevel : 0,\nmonsterPv : 100,\nmonsterPvMax : 100,\nplayerPv : 100,\nplayerPvMax : 100,\nplayerName: 'rom',\nDommageBYlevelplayer : 100, \nDommageBYlevelMonster : 100, \nmessageDommageMonster: '',\nmessageDommagePlayer: '',\ngameBegining:false,\ndisplayAnimation :false,\n};\n\nconst reducer = (state:any = initialState, action:any = {})  => {\n  console.log(action.type)\n  switch(action.type) {\n    case BEGIN:\n      return {\n        ...state,\n        gameBegining: true,\n        playerPv :   state.playerPvMax ,\n        monsterPv : state.monsterPvMax,\n        messageDommageMonster: '',\n        messageDommagePlayer: '',\n      }\n    case LEVEL_UP :\n      return {\n        ...state,\n        level: state.level + 1,\n        monsterPvMax : Math.floor(state.monsterPvMax + ((state.monsterPvMax *15)/100)),\n        playerPvMax : Math.floor(state.playerPvMax + ((state.playerPvMax * 20)/100)),\n        DommageBYlevelplayer : Math.floor(state.DommageBYlevelplayer + 10),\n        DommageBYlevelMonster : Math.floor(state.DommageBYlevelMonster + 15),\n      }\n    case END:\n      return {\n        ...state,\n        gameBegining: false,\n        playerPv : 100,\n        monsterPv :100 ,\n        monsterPvMax :100,\n        playerPvMax : 100,\n        messageDommageMonster: '',\n        messageDommagePlayer: '',\n        level: 0,\n      }\n    case HEAL:\n      return {\n        ...state,\n        messageDommagePlayer: 'vous avez recupere ' + (Math.floor(state.playerPv + ((10 * state.DommageBYlevelplayer)/100) >= state.playerPvMax ?\n        +state.playerPvMax + +state.playerPv:\n          Math.floor((10 * state.DommageBYlevelplayer)/100)))  + ' pv',\n        playerPv : state.playerPv +  Math.floor((10 * state.DommageBYlevelplayer)/100) >= state.playerPvMax ?\n        state.playerPvMax:\n          state.playerPv +  Math.floor((10 * state.DommageBYlevelplayer)/100)\n      }\n    case ATTACK: {\n      if (action.player== 'playerPv') {\n        return {\n        ...state,\n        playerPv: +state.playerPv - Math.floor((action.value * state.DommageBYlevelplayer ) / 100) < 0\n        ? 0 :\n        +state.playerPv - Math.floor((action.value * state.DommageBYlevelplayer ) / 100),\n        messageDommagePlayer: 'vous avez recu ' + Math.floor((action.value * state.DommageBYlevelplayer ) / 100)  + ' de dommage'\n        }\n      }\n      if (action.player== 'monsterPv') {\n        return {\n        ...state,\n        monsterPv: +state.monsterPv - Math.floor((action.value * state.DommageBYlevelMonster )/ 100) < 0 ?\n        0:\n        +state.monsterPv - Math.floor((action.value * state.DommageBYlevelMonster )/ 100),\n        messageDommageMonster: 'vous avez recu ' + Math.floor((action.value * state.DommageBYlevelMonster ) / 100)  + ' de dommage'\n        }\n      }\n    }\n    case CHANGE_DISPLAY_ANIMATION: \n      return {\n        ...state, \n        displayAnimation: !state.displayAnimation\n      }\n      default: return state\n  }\n}\nexport default reducer"]},"metadata":{},"sourceType":"module"}